<div class="card" *ngFor="let phase of phases">
  <h3 class="card-header">
        <span class="menu">
            <button type="button" class="btn btn-danger-outline">
                Reset all <i class="fa fa-undo"></i>
            </button>
            <button type="button" class="btn btn-primary-outline">
                Submit all <i class="fa fa-refresh"></i>
            </button>
        </span>
    {{phase.name}}
    <small class="text-muted">{{phase.description}}</small>
  </h3>
  <div class="card-block card-text" *ngIf="phase.tasks.length <= 0">
    No tasks have been generated yet...
  </div>

  <div class="card-block table" *ngIf="phase.tasks.length > 0">
    <div class="row" >
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
          <th>#</th>
          <th *ngFor="let field of phase.fields">{{field.name}}</th>
          <th style="text-align:center;"><i class="fa fa-filter"></i></th>
          </thead>
          <tbody>
          <tr *ngFor="let task of phase.tasks">
            <th>{{task.id}}</th>
            <td *ngFor="let data of task.data">
              <field [data]="data"></field>
            </td>
            <td style="text-align:center;">
              <span [ngSwitch]="task.state">
                  <template [ngSwitchWhen]="1"><span class="label label-default">new</span></template>
                  <template [ngSwitchWhen]="2"><span class="label label-warning">in progress</span></template>
                  <template [ngSwitchWhen]="3"><span class="label label-success">submitted</span></template>
                  <template ngSwitchDefault><span class="label label-danger">unknown</span></template>
              </span>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
